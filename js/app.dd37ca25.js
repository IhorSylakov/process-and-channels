(function(){var t={5952:function(t,n,e){"use strict";var s=e(5130),i=e(6768),o=e(4232);const r={class:"app"},a={class:"process-list"},c=["onClick"],u=["alt","src"],l={class:"process-item"};function h(t,n,h,g,d,p){const v=(0,i.g2)("MainComponent");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("ul",a,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(d.processList,(t=>((0,i.uX)(),(0,i.CE)("li",{key:t.id,class:(0,o.C4)(["process-item",{"is-active":d.activeProcess===t.name}])},[(0,i.Lk)("button",{class:"process-button",onClick:n=>p.setProcessType(t.name)},[(0,i.Lk)("img",{height:"60",width:"75",alt:t.name,src:e(1980)(`./${t.name}.svg`)},null,8,u)],8,c)],2)))),128)),(0,i.Lk)("li",l,[(0,i.bo)((0,i.Lk)("input",{type:"number",min:"1",max:"10","onUpdate:modelValue":n[0]||(n[0]=t=>d.channelsCount=t),onInput:n[1]||(n[1]=(...t)=>p.updateChannelsCount&&p.updateChannelsCount(...t)),onKeydown:n[2]||(n[2]=(...t)=>p.preventOutOfRangeInput&&p.preventOutOfRangeInput(...t))},null,544),[[s.Jo,d.channelsCount,void 0,{number:!0}]])])]),(0,i.bF)(v,{processType:d.activeProcess,channels:p.channelsList},null,8,["processType","channels"])])}e(4114);var g=e(6618);const d=t=>((0,i.Qi)("data-v-3e76402b"),t=t(),(0,i.jt)(),t),p=d((()=>(0,i.Lk)("div",{class:"channel__item"},[(0,i.Lk)("div",{class:"channel__item-icon"},[(0,i.Lk)("img",{height:"32",width:"32",alt:"channel type",src:g})])],-1))),v={contenteditable:"true"};function m(t,n,e,s,r,a){return(0,i.uX)(),(0,i.CE)("div",{class:"container",style:(0,o.Tr)("ongoing"!==e.processType?"min-height: 320px;":"")},[(0,i.Lk)("div",{class:"process-and-channels",style:(0,o.Tr)(a.getGeneralStyles)},[(0,i.Lk)("div",{class:(0,o.C4)(["process",`process--${e.processType}`]),style:(0,o.Tr)(a.getNonLinearStyles())},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.channels,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.id,class:(0,o.C4)(["channel",`channel--${e.processType}`]),style:(0,o.Tr)(a.getOngoingStyles(t.id))},[p,(0,i.Lk)("div",{class:"channel__item-text",style:(0,o.Tr)(a.getChannelVerticalPosition(t.id))},[(0,i.Lk)("div",v,(0,o.v_)(t.text),1)],4)],6)))),128))],6)],4),(0,i.Lk)("div",{class:"resizer-x",onMousedown:n[0]||(n[0]=(...t)=>a.startDragX&&a.startDragX(...t)),onMousemove:n[1]||(n[1]=(...t)=>a.doDragX&&a.doDragX(...t)),onMouseup:n[2]||(n[2]=(...t)=>a.stopDragX&&a.stopDragX(...t))},null,32),"ongoing"===e.processType?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"resizer-y",onMousedown:n[3]||(n[3]=(...t)=>a.startDragY&&a.startDragY(...t)),onMousemove:n[4]||(n[4]=(...t)=>a.doDragY&&a.doDragY(...t)),onMouseup:n[5]||(n[5]=(...t)=>a.stopDragY&&a.stopDragY(...t))},null,32)):(0,i.Q3)("",!0)],4)}const f=350,y=160;var C={name:"MainComponent",props:{processType:{type:String,default:"ongoing",validator:function(t){return["ongoing","linear","non-linear","bidirectional"].includes(t)}},channels:{type:Array,required:!0}},data(){return{isDragging:!1,startX:0,startY:0,startWidth:0,startHeight:0,diametr:200,containerWidth:558}},computed:{channelsCount(){return this.channels.length+1},getGeneralStyles(){const t=`width: ${this.containerWidth}px;`,n=`--min-width: ${this.containerWidth}px;`,e=`--channels-count: ${this.channels.length};`,s=`--circle-radius: ${this.diametr/2}px;`;return`${t} ${n} ${e} ${s}`}},methods:{ongoingChannelDegree(t){const n=this.channelsCount,e=360/n;return e*t-90},getChannelVerticalPosition(t){const n=this.ongoingChannelDegree(t),e=n<0?360+n:n,s=e<181?"top: 100%":"bottom: 100%";let i="left: -5%";return n>90&&(i="right: 25%"),n<90&&(i="left: 25%"),"ongoing"===this.processType?`${s}; ${i};`:""},getOngoingStyles(t){const n=this.ongoingChannelDegree(t),e=Math.sin(n*(Math.PI/180)).toFixed(4),s=Math.cos(n*(Math.PI/180)).toFixed(4);return"ongoing"===this.processType?`--sin: ${e}; --cos: ${s};`:""},getNonLinearStyles(){const t=120,n=150,e=50,s=150,i=(this.containerWidth-n)/this.channelsCount;let o=i;i<e&&(o=e),i>s&&(o=s);const r=Math.sqrt(t**2+o**2),a=Math.atan(o/t)/(Math.PI/180);return"non-linear"===this.processType?`--height: ${r}px; --degree: ${a}deg; --item-width: ${o}px;`:""},startDragX(t){this.isDragging=!0,this.startWidth=this.containerWidth,this.startX=t.clientX,document.addEventListener("mousemove",this.doDragX),document.addEventListener("mouseup",this.stopDragX)},doDragX(t){if(this.isDragging){const n=t.clientX-this.startX;this.containerWidth=Math.max(f,this.startWidth+n)}},stopDragX(){this.isDragging=!1,document.removeEventListener("mousemove",this.doDragX),document.removeEventListener("mouseup",this.stopDragX)},startDragY(t){this.isDragging=!0,this.startHeight=this.diametr,this.startY=t.clientY,document.addEventListener("mousemove",this.doDragY),document.addEventListener("mouseup",this.stopDragY)},doDragY(t){if(this.isDragging){const n=t.clientY-this.startY;this.diametr=Math.max(y,this.startHeight+n)}},stopDragY(){this.isDragging=!1,document.removeEventListener("mousemove",this.doDragY),document.removeEventListener("mouseup",this.stopDragY)}}},D=e(1241);const b=(0,D.A)(C,[["render",m],["__scopeId","data-v-3e76402b"]]);var L=b,k={name:"App",components:{MainComponent:L},data(){return{processList:[{id:1,name:"ongoing"},{id:2,name:"linear"},{id:3,name:"non-linear"},{id:4,name:"bidirectional"}],channelsCount:3,activeProcess:"ongoing"}},computed:{channelsList(){const t=[];for(let n=1;n<=this.channelsCount;n++)t.push({id:n,text:`test${n}`});return t}},methods:{setProcessType(t){this.activeProcess=t},updateChannelsCount(t){this.channelsCount=t.target.value},preventOutOfRangeInput(t){const n=parseInt(t.target.value);n<1?this.channelsCount=1:n>10&&(this.channelsCount=10)}}};const x=(0,D.A)(k,[["render",h]]);var X=x;(0,s.Ef)(X).mount("#app")},1980:function(t,n,e){var s={"./bidirectional.svg":1555,"./blank-channel.svg":6618,"./linear.svg":1489,"./non-linear.svg":5155,"./ongoing.svg":5789};function i(t){var n=o(t);return e(n)}function o(t){if(!e.o(s,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=o,t.exports=i,i.id=1980},1555:function(t,n,e){"use strict";t.exports=e.p+"img/bidirectional.4af919d8.svg"},6618:function(t,n,e){"use strict";t.exports=e.p+"img/blank-channel.6072b69b.svg"},1489:function(t,n,e){"use strict";t.exports=e.p+"img/linear.b559c343.svg"},5155:function(t,n,e){"use strict";t.exports=e.p+"img/non-linear.014dd666.svg"},5789:function(t,n,e){"use strict";t.exports=e.p+"img/ongoing.6843543c.svg"}},n={};function e(s){var i=n[s];if(void 0!==i)return i.exports;var o=n[s]={exports:{}};return t[s].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(n,s,i,o){if(!s){var r=1/0;for(l=0;l<t.length;l++){s=t[l][0],i=t[l][1],o=t[l][2];for(var a=!0,c=0;c<s.length;c++)(!1&o||r>=o)&&Object.keys(e.O).every((function(t){return e.O[t](s[c])}))?s.splice(c--,1):(a=!1,o<r&&(r=o));if(a){t.splice(l--,1);var u=i();void 0!==u&&(n=u)}}return n}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[s,i,o]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.p=""}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,s){var i,o,r=s[0],a=s[1],c=s[2],u=0;if(r.some((function(n){return 0!==t[n]}))){for(i in a)e.o(a,i)&&(e.m[i]=a[i]);if(c)var l=c(e)}for(n&&n(s);u<r.length;u++)o=r[u],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(l)},s=self["webpackChunkprocess_and_channels"]=self["webpackChunkprocess_and_channels"]||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))}();var s=e.O(void 0,[504],(function(){return e(5952)}));s=e.O(s)})();
//# sourceMappingURL=app.dd37ca25.js.map